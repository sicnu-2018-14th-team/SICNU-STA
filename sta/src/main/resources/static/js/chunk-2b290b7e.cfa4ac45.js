(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b290b7e"],{4607:function(e,t,i){},"464e":function(e,t,i){"use strict";i("4607")},"7ee8":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{width:"100%"}},[i("el-card",[i("el-form",{ref:"sizeForm",attrs:{rules:e.rules,"status-icon":"",model:e.sizeForm,"label-width":"100px",size:"mini"}},[i("el-form-item",{attrs:{label:"请输入题目",prop:"title"}}),i("editor-bar",{model:{value:e.sizeForm.title,callback:function(t){e.$set(e.sizeForm,"title",t)},expression:"sizeForm.title"}}),i("el-form-item",{staticStyle:{"margin-top":"20px",width:"50%"},attrs:{label:"选项A",prop:"optionA"}},[i("el-input",{attrs:{placeholder:"请输入选项A内容"},model:{value:e.sizeForm.optionA,callback:function(t){e.$set(e.sizeForm,"optionA",t)},expression:"sizeForm.optionA"}})],1),i("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"选项B",prop:"optionB"}},[i("el-input",{attrs:{placeholder:"请输入选项B内容"},model:{value:e.sizeForm.optionB,callback:function(t){e.$set(e.sizeForm,"optionB",t)},expression:"sizeForm.optionB"}})],1),i("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"选项C",prop:"optionC"}},[i("el-input",{attrs:{placeholder:"请输入选项C内容"},model:{value:e.sizeForm.optionC,callback:function(t){e.$set(e.sizeForm,"optionC",t)},expression:"sizeForm.optionC"}})],1),i("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"选项D",prop:"optionD"}},[i("el-input",{attrs:{placeholder:"请输入选项D内容"},model:{value:e.sizeForm.optionD,callback:function(t){e.$set(e.sizeForm,"optionD",t)},expression:"sizeForm.optionD"}})],1),i("el-form-item",{attrs:{label:"答案",prop:"ans"}},[i("el-radio-group",{attrs:{size:"medium"},model:{value:e.sizeForm.ans,callback:function(t){e.$set(e.sizeForm,"ans",t)},expression:"sizeForm.ans"}},[i("el-radio",{attrs:{border:"",label:"选项A"}}),i("el-radio",{attrs:{border:"",label:"选项B"}}),i("el-radio",{attrs:{border:"",label:"选项C"}}),i("el-radio",{attrs:{border:"",label:"选项D"}})],1)],1),i("el-form-item",{attrs:{label:"题目难度",prop:"difficulty"}},[i("el-select",{attrs:{placeholder:"请选择难易程度"},model:{value:e.sizeForm.difficulty,callback:function(t){e.$set(e.sizeForm,"difficulty",t)},expression:"sizeForm.difficulty"}},[i("el-option",{attrs:{label:"非常简单",value:"1"}}),i("el-option",{attrs:{label:"简单",value:"2"}}),i("el-option",{attrs:{label:"一般",value:"3"}}),i("el-option",{attrs:{label:"困难",value:"4"}}),i("el-option",{attrs:{label:"非常困难",value:"5"}})],1)],1),i("el-form-item",{attrs:{label:"题目分数",prop:"score"}},[i("el-select",{attrs:{placeholder:"请选择题目分数"},model:{value:e.sizeForm.score,callback:function(t){e.$set(e.sizeForm,"score",t)},expression:"sizeForm.score"}},[i("el-option",{attrs:{label:"1",value:"1"}}),i("el-option",{attrs:{label:"2",value:"2"}}),i("el-option",{attrs:{label:"5",value:"5"}}),i("el-option",{attrs:{label:"10",value:"10"}}),i("el-option",{attrs:{label:"15",value:"15"}}),i("el-option",{attrs:{label:"20",value:"20"}}),i("el-option",{attrs:{label:"25",value:"25"}}),i("el-option",{attrs:{label:"30",value:"30"}})],1)],1),i("el-form-item",{attrs:{label:"题目标签"}},[e._l(e.sizeForm.tagList,(function(t){return i("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v("+ New Tag")])],2),i("el-form-item",{staticStyle:{"margin-left":"0px"}},[void 0!==e.pId?i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.submitChangeForm("sizeForm")}}},[e._v("提交修改")]):i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("sizeForm")}}},[e._v("立即创建")]),i("el-button",{on:{click:function(t){return e.resetForm("sizeForm")}}},[e._v("重置表单")])],1)],1)],1)],1)},r=[],a=(i("c975"),i("a434"),i("b85c")),s=(i("4328"),i("037f")),l={data:function(){var e=function(e,t,i){t?i():i(new Error("请选择难度！"))};return{Id:this.$route.query.id,pId:this.$route.query.pId,inputVisible:!1,inputValue:"",sizeForm:{title:"",score:"",optionA:"",optionB:"",optionC:"",optionD:"",tagList:[],ans:"",difficulty:"",available:1,contestId:""},rules:{title:[{required:!0,message:"请输入题目描述",trigger:"change"}],difficulty:[{required:!0,validator:e,trigger:"change"}],ans:[{required:!0,message:"请选择正确的选项",trigger:"blur"}],optionA:[{required:!0,message:"请输入选项A内容",trigger:"blur"}],optionB:[{required:!0,message:"请输入选项B内容",trigger:"blur"}],optionC:[{required:!0,message:"请输入选项C内容",trigger:"blur"}],optionD:[{required:!0,message:"请输入选项D内容",trigger:"blur"}],score:[{required:!0,message:"请选择分数",trigger:"blur"}]}}},components:{EditorBar:s["a"]},methods:{submitForm:function(e){var t=this,i=this;this.sizeForm.contestId=this.Id-0,this.$refs[e].validate((function(e){if(!e)return t.$message.error("必选项未填写完整"),!1;console.log(t.sizeForm),axios.post(t.global.create_choice_problem,t.sizeForm).then((function(e){console.log(e.data),200===e.data.code?(i.$message({message:"创建成功",type:"success"}),NaN!==i.sizeForm.contestId?i.$router.push({path:"/problem/list",query:{id:i.Id}}):i.$router.push("/problem/list")):i.$message.error("创建出错")}))}))},handleClose:function(e){this.sizeForm.tagList.splice(this.sizeForm.tagList.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue,t=0;if(e){var i,o=Object(a["a"])(this.sizeForm.tagList);try{for(o.s();!(i=o.n()).done;){var r=i.value;if(r===e){t=1;break}}}catch(s){o.e(s)}finally{o.f()}0===t?this.sizeForm.tagList.push(e):alert("重复的标签！")}this.inputVisible=!1,this.inputValue=""},resetForm:function(e){this.$refs[e].resetFields()},getupdate:function(){var e=this;axios.post(this.global.queryproblem_info,this.$qs.stringify({problemId:this.pId})).then((function(t){console.log(e.pId),console.log(t.data),200===t.data.code?(e.sizeForm=t.data.data,e.sizeForm.optionA=t.data.data.option_a,e.sizeForm.optionB=t.data.data.option_b,e.sizeForm.optionC=t.data.data.option_c,e.sizeForm.optionD=t.data.data.option_d,"1"===t.data.data.ans?e.sizeForm.ans="选项A":"2"===t.data.data.ans?e.sizeForm.ans="选项B":"3"===t.data.data.ans?e.sizeForm.ans="选项C":"4"===t.data.data.ans&&(e.sizeForm.ans="选项D"),e.sizeForm.tagList=t.data.data.tag,e.$message.success("获取原始信息成功")):e.$message.error("获取原始信息失败!")}))},submitChangeForm:function(e){var t=this,i=this;this.sizeForm.problemId=this.pId,this.$refs[e].validate((function(e){if(!e)return t.$message.error("必选项未填写完整"),!1;console.log(t.sizeForm),axios.post(t.global.update_choice_problem,t.sizeForm).then((function(e){console.log(e.data),200===e.data.code?(i.$message({message:"修改成功",type:"success"}),i.$router.push("/my-problem")):i.$message.error("修改出错")}))}))}},created:function(){void 0!==this.pId&&this.getupdate()}},n=l,u=(i("464e"),i("2877")),p=Object(u["a"])(n,o,r,!1,null,null,null);t["default"]=p.exports},a434:function(e,t,i){"use strict";var o=i("23e7"),r=i("23cb"),a=i("a691"),s=i("50c4"),l=i("7b0b"),n=i("65f0"),u=i("8418"),p=i("1dde"),c=i("ae40"),d=p("splice"),m=c("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,b=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!d||!m},{splice:function(e,t){var i,o,p,c,d,m,F=l(this),z=s(F.length),v=r(e,z),y=arguments.length;if(0===y?i=o=0:1===y?(i=0,o=z-v):(i=y-2,o=b(f(a(t),0),z-v)),z+i-o>h)throw TypeError(g);for(p=n(F,o),c=0;c<o;c++)d=v+c,d in F&&u(p,c,F[d]);if(p.length=o,i<o){for(c=v;c<z-o;c++)d=c+o,m=c+i,d in F?F[m]=F[d]:delete F[m];for(c=z;c>z-o+i;c--)delete F[c-1]}else if(i>o)for(c=z-o;c>v;c--)d=c+o-1,m=c+i-1,d in F?F[m]=F[d]:delete F[m];for(c=0;c<i;c++)F[c+v]=arguments[c+2];return F.length=z-o+i,p}})},c975:function(e,t,i){"use strict";var o=i("23e7"),r=i("4d64").indexOf,a=i("a640"),s=i("ae40"),l=[].indexOf,n=!!l&&1/[1].indexOf(1,-0)<0,u=a("indexOf"),p=s("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:n||!u||!p},{indexOf:function(e){return n?l.apply(this,arguments)||0:r(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-2b290b7e.cfa4ac45.js.map