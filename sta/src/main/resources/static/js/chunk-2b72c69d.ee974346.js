(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b72c69d"],{"159b":function(t,e,o){var a=o("da84"),r=o("fdbc"),l=o("17c2"),i=o("9112");for(var n in r){var s=a[n],d=s&&s.prototype;if(d&&d.forEach!==l)try{i(d,"forEach",l)}catch(c){d.forEach=l}}},"17c2":function(t,e,o){"use strict";var a=o("b727").forEach,r=o("a640"),l=o("ae40"),i=r("forEach"),n=l("forEach");t.exports=i&&n?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,o){"use strict";var a=o("23e7"),r=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"65f0":function(t,e,o){var a=o("861d"),r=o("e8b5"),l=o("b622"),i=l("species");t.exports=function(t,e){var o;return r(t)&&(o=t.constructor,"function"!=typeof o||o!==Array&&!r(o.prototype)?a(o)&&(o=o[i],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===e?0:e)}},"81ad":function(t,e,o){"use strict";o("90d6")},"90d6":function(t,e,o){},"97f4":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",[o("p",{staticStyle:{"font-size":"20px","margin-top":"25px","text-indent":"0.5em"}},[t._v("题目列表")]),o("div",{staticStyle:{"margin-top":"20px"}},[o("el-button",{attrs:{type:"primary",round:""},on:{click:t.gochoice}},[t._v("选择题")]),o("el-button",{attrs:{type:"success",round:""},on:{click:t.goTrueOrFalse}},[t._v("判断题")]),o("el-button",{attrs:{type:"warning",round:""},on:{click:t.goprogram}},[t._v("编程题")])],1),o("el-divider"),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.problemList}},[o("el-table-column",{attrs:{type:"index",label:"#",width:"150"}}),o("el-table-column",{attrs:{label:"ID",prop:"problem_id",width:"150"}}),o("el-table-column",{attrs:{label:"标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("p",{domProps:{innerHTML:t._s(e.row.title)}})]}}])}),o("el-table-column",{attrs:{label:"创建者",prop:"user_name"}}),o("el-table-column",{attrs:{label:"难度"},scopedSlots:t._u([{key:"default",fn:function(e){return[5===e.row.difficulty?o("p",[t._v("非常困难")]):t._e(),4===e.row.difficulty?o("p",[t._v("困难")]):t._e(),3===e.row.difficulty?o("p",[t._v("一般")]):t._e(),2===e.row.difficulty?o("p",[t._v("简单")]):t._e(),1===e.row.difficulty?o("p",[t._v("非常简单")]):t._e()]}}])}),o("el-table-column",{attrs:{label:"操作",fixed:"right",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除比赛题目",placement:"top"}},[o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.deleteProblemList(e.row)}}})],1)]}}])})],1),o("el-divider"),o("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,total:t.total},on:{"current-change":t.querycontestproblem}})],1),o("el-card",[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.creatProblem}},[t._v("创建题目")]),null!=this.$route.query.id?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.addProblemVisible=!0}}},[t._v("从题库中添加题目")]):t._e()],1),o("el-dialog",{attrs:{title:"搜索题目",visible:t.addProblemVisible,width:"50%"},on:{"update:visible":function(e){t.addProblemVisible=e}}},[o("el-form",{attrs:{model:t.addProblemFrom}},[o("el-row",{attrs:{gutter:30}},[o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{label:"Author"}},[o("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入作者","remote-method":t.remoteMethodAuthor,loading:t.loadingAuthor},model:{value:t.addProblemFrom.authorId,callback:function(e){t.$set(t.addProblemFrom,"authorId",e)},expression:"addProblemFrom.authorId"}},t._l(t.optionsAuthor,(function(t){return o("el-option",{key:t.user_id,attrs:{label:t.user_name,value:t.user_id}})})),1)],1)],1),o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{label:"Tag"}},[o("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入标签","remote-method":t.remoteMethodTag,loading:t.loadingTag},model:{value:t.addProblemFrom.tags,callback:function(e){t.$set(t.addProblemFrom,"tags",e)},expression:"addProblemFrom.tags"}},t._l(t.optionsTag,(function(t){return o("el-option",{key:t.tag_id,attrs:{label:t.tag_name,value:t.tag_id}})})),1)],1)],1),o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{label:"difficulty"}},[o("el-select",{attrs:{placeholder:"请选择难度"},model:{value:t.addProblemFrom.difficulty,callback:function(e){t.$set(t.addProblemFrom,"difficulty",e)},expression:"addProblemFrom.difficulty"}},[o("el-option",{attrs:{label:"非常简单",value:"1"}}),o("el-option",{attrs:{label:"简单",value:"2"}}),o("el-option",{attrs:{label:"一般",value:"3"}}),o("el-option",{attrs:{label:"困难",value:"4"}}),o("el-option",{attrs:{label:"非常困难",value:"5"}})],1)],1)],1),o("el-col",{attrs:{span:5}},[o("el-form-item",{attrs:{label:"Type"}},[o("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.addProblemFrom.typeId,callback:function(e){t.$set(t.addProblemFrom,"typeId",e)},expression:"addProblemFrom.typeId"}},[o("el-option",{attrs:{label:"判断题",value:"1"}}),o("el-option",{attrs:{label:"选择题",value:"2"}}),o("el-option",{attrs:{label:"编程题",value:"3"}})],1)],1)],1),o("el-col",{attrs:{span:3}},[o("el-button",{staticStyle:{"margin-top":"40px"},attrs:{type:"primary",size:"medium"},on:{click:t.findProblem}},[t._v("搜索")])],1)],1)],1),o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.queryloading,expression:"queryloading"}],attrs:{data:t.addProblemTable}},[o("el-table-column",{attrs:{type:"index",label:"#",width:"100"}}),o("el-table-column",{attrs:{label:"ID",property:"problem_id",width:"150"}}),o("el-table-column",{attrs:{label:"Title"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("p",{domProps:{innerHTML:t._s(e.row.title)}})]}}])}),o("el-table-column",{attrs:{label:"Author",property:"user_name"}}),o("el-table-column",{attrs:{label:"Operation",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[-1===t.problemContestId.indexOf(e.row.problem_id)?o("el-button",{attrs:{type:"warning",icon:"el-icon-plus",circle:""},nativeOn:{click:function(o){return o.preventDefault(),t.addFromProblemList(e.row)}}}):o("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:""}})]}}])})],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.addProblemVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.sureAddProblem}},[t._v("确 定")])],1)],1)],1)},r=[],l=(o("4160"),o("159b"),{data:function(){return{pageSize:10,total:20,loading:!1,addProblemVisible:!1,id:this.$route.query.id,addProblemTable:[],addProblemFrom:{authorId:"",tags:[],difficulty:"",typeId:""},typeId:2,problemList:[],optionsAuthor:[],loadingAuthor:!1,optionsTag:[],loadingTag:!1,problemContestId:[],queryloading:!1}},created:function(){this.gochoice()},methods:{querycontestproblem:function(t){if(1===this.typeId){this.loading=!0;var e,o=this;e="undefined"===typeof this.id?{contestId:-1,typeId:1,pageSize:this.pageSize,page:t}:{contestId:this.id,typeId:1,pageSize:this.pageSize,page:t},console.log(e),o.problemContestId=[],axios.post(this.global.query_contest_problem,this.$qs.stringify(e)).then((function(t){console.log(t.data),o.loading=!1,o.total=t.data.data.total,o.problemList=t.data.data.data,o.problemList.forEach((function(t,e){o.problemContestId.push(t.problem_id)}))}))}else if(2===this.typeId){this.loading=!0;var a,r=this;a="undefined"===typeof this.id?{contestId:-1,typeId:2,pageSize:this.pageSize,page:t}:{contestId:this.id,typeId:2,pageSize:this.pageSize,page:t},console.log(a),r.problemContestId=[],axios.post(this.global.query_contest_problem,this.$qs.stringify(a)).then((function(t){console.log(t.data),r.loading=!1,r.total=t.data.data.total,r.problemList=t.data.data.data,r.problemList.forEach((function(t,e){r.problemContestId.push(t.problem_id)}))}))}else if(3===this.typeId){this.loading=!0;var l,i=this;l="undefined"===typeof this.id?{contestId:-1,typeId:3,pageSize:this.pageSize,page:t}:{contestId:this.id,typeId:3,pageSize:this.pageSize,page:t},console.log(l),i.problemContestId=[],axios.post(this.global.query_contest_problem,this.$qs.stringify(l)).then((function(t){console.log(t.data),i.loading=!1,i.total=t.data.data.total,i.problemList=t.data.data.data,i.problemList.forEach((function(t,e){i.problemContestId.push(t.problem_id)}))}))}},sureAddProblem:function(){this.addProblemVisible=!1,this.gochoice()},creatProblem:function(){this.$router.push({path:"/create/problem",query:{id:this.id}})},goTrueOrFalse:function(){this.typeId=1,this.querycontestproblem(1)},gochoice:function(){this.typeId=2,this.querycontestproblem(1)},goprogram:function(){this.typeId=3,this.querycontestproblem(1)},findProblem:function(){var t=this;t.queryloading=!0,t.addProblemTable=[],axios.post(this.global.query_problem_info,this.addProblemFrom).then((function(e){t.queryloading=!1,t.addProblemTable=e.data.data,console.log(e.data)}))},remoteMethodTag:function(t){var e=this;""!==t?(this.loadingTag=!0,setTimeout((function(){e.loadingTag=!1;var o=e;axios.post(e.global.vague_query_tags,e.$qs.stringify({tagName:t})).then((function(t){o.optionsTag=t.data.data}))}),200)):this.optionsTag=[]},remoteMethodAuthor:function(t){var e=this;""!==t?(this.loadingAuthor=!0,setTimeout((function(){e.loadingAuthor=!1;var o=e;axios.post(e.global.user_vague_query_name,e.$qs.stringify({userName:t})).then((function(t){o.optionsAuthor=t.data.data,o.findProblem()}))}),200)):this.optionsAuthor=[],console.log(this.optionsAuthor)},addFromProblemList:function(t){var e=this,o={contestId:this.id,score:t.score,problemId:t.problem_id};axios.post(this.global.add_problem_to_contest,this.$qs.stringify(o)).then((function(o){e.problemContestId.push(t.problem_id)}))},deleteProblemList:function(t){var e=this,o={contestId:this.id,problemId:t.problem_id};axios.post(this.global.delete_problem_to_contest,this.$qs.stringify(o)).then((function(t){e.goTrueOrFalse(),console.log(t.data)}))}}}),i=l,n=(o("81ad"),o("2877")),s=Object(n["a"])(i,a,r,!1,null,null,null);e["default"]=s.exports},a640:function(t,e,o){"use strict";var a=o("d039");t.exports=function(t,e){var o=[][t];return!!o&&a((function(){o.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,o){var a=o("83ab"),r=o("d039"),l=o("5135"),i=Object.defineProperty,n={},s=function(t){throw t};t.exports=function(t,e){if(l(n,t))return n[t];e||(e={});var o=[][t],d=!!l(e,"ACCESSORS")&&e.ACCESSORS,c=l(e,0)?e[0]:s,u=l(e,1)?e[1]:void 0;return n[t]=!!o&&!r((function(){if(d&&!a)return!0;var t={length:-1};d?i(t,1,{enumerable:!0,get:s}):t[1]=1,o.call(t,c,u)}))}},b727:function(t,e,o){var a=o("0366"),r=o("44ad"),l=o("7b0b"),i=o("50c4"),n=o("65f0"),s=[].push,d=function(t){var e=1==t,o=2==t,d=3==t,c=4==t,u=6==t,p=5==t||u;return function(m,f,b,h){for(var g,y,v=l(m),_=r(v),S=a(f,b,3),I=i(_.length),P=0,L=h||n,T=e?L(m,I):o?L(m,0):void 0;I>P;P++)if((p||P in _)&&(g=_[P],y=S(g,P,v),t))if(e)T[P]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return P;case 2:s.call(T,g)}else if(c)return!1;return u?-1:d||c?c:T}};t.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},e8b5:function(t,e,o){var a=o("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-2b72c69d.ee974346.js.map