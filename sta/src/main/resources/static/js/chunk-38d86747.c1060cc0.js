(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38d86747"],{"0666":function(e,r,t){e.exports=t.p+"img/sicnu.d86b95e7.jpg"},"2444c":function(e,r,t){e.exports=t.p+"img/email.7e5d1593.svg"},"33a6":function(e,r,t){e.exports=t.p+"img/pwd.cf3b8686.svg"},9292:function(e,r,t){},a60f:function(e,r,t){"use strict";t("9292")},b49f:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"register"}},[t("div",{staticStyle:{float:"left","margin-top":"22px"}},[t("el-image",{staticStyle:{width:"371px",height:"377px"},attrs:{src:e.sicnuUrl}})],1),t("div",{staticStyle:{float:"left","margin-left":"10px"}},[t("p",{staticClass:"register-title"},[e._v("修改密码")]),t("el-form",{ref:"registerForm",staticClass:"demo-registerForm",attrs:{model:e.registerForm,rules:e.rules,"label-width":"50px"}},[t("el-form-item",{attrs:{prop:"email"}},[t("span",{staticClass:"add-border",staticStyle:{display:"inline-block"}},[t("el-image",{staticStyle:{width:"26px",height:"26px","vertical-align":"middle"},attrs:{src:e.emailUrl}})],1),t("el-input",{staticClass:"el-input-wid",staticStyle:{display:"inline-block"},attrs:{placeholder:"邮箱地址"},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),t("el-form-item",{attrs:{prop:"password1"}},[t("span",{staticClass:"add-border",staticStyle:{display:"inline-block"}},[t("el-image",{staticStyle:{width:"26px",height:"26px","vertical-align":"middle"},attrs:{src:e.pwdUrl}})],1),t("el-input",{staticClass:"el-input-wid",attrs:{placeholder:"新密码",type:"password",onpaste:"return false",oncontextmenu:"return false",oncopy:"return false",oncut:"return false"},model:{value:e.registerForm.password1,callback:function(r){e.$set(e.registerForm,"password1",r)},expression:"registerForm.password1"}})],1),t("el-form-item",{attrs:{prop:"password2"}},[t("span",{staticClass:"add-border",staticStyle:{display:"inline-block"}},[t("el-image",{staticStyle:{width:"26px",height:"26px","vertical-align":"middle"},attrs:{src:e.pwdUrl}})],1),t("el-input",{staticClass:"el-input-wid",attrs:{placeholder:"重复新密码",type:"password",onpaste:"return false",oncontextmenu:"return false",oncopy:"return false",oncut:"return false"},model:{value:e.registerForm.password2,callback:function(r){e.$set(e.registerForm,"password2",r)},expression:"registerForm.password2"}})],1),t("el-form-item",{attrs:{prop:"userInputVerifyCode"}},[t("el-input",{staticStyle:{width:"40%","margin-right":"5%"},attrs:{placeholder:"验证码"},model:{value:e.registerForm.userInputVerifyCode,callback:function(r){e.$set(e.registerForm,"userInputVerifyCode",r)},expression:"registerForm.userInputVerifyCode"}}),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.sendVerifyCode()}}},[e._v("发送验证码")])],1),t("el-form-item",{staticStyle:{"margin-left":"15%"}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("registerForm")}}},[e._v("修改密码")]),t("el-button",{on:{click:function(r){return e.resetForm("registerForm")}}},[e._v("重置")])],1)],1)],1)])},i=[];function a(e){var r=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return r.test(e)}function o(e){for(var r=0,t=0,s=0;s<e.length;s++){if(r&&t)return!0;e[s]>="0"&&e[s]<="9"?r=1:(e[s]>="a"&&e[s]<="z"||e[s]>="A"&&e[s]<="Z")&&(t=1)}return!1}var l={data:function(){var e=this,r=function(e,r,t){r?a(r)?t():t(new Error("邮箱格式不正确")):t(new Error("请输入邮箱地址"))},s=function(e,r,t){if(r){var s=r.length;s<6||s>15?t(new Error("密码长度在 6 - 15 位之间")):o(r)?t():t(new Error("密码必须包含字母和数字"))}else t(new Error("请输入登录密码"))},i=function(r,t,s){t?t!=e.registerForm.password1?s(new Error("两次输入的密码不一致")):s():s(new Error("请再次输入密码"))},l=function(r,t,s){""==e.registerForm.verifyCode||t&&t==e.registerForm.verifyCode?s():s(new Error("验证码错误"))},n=function(e,r,t){r?r.length>10?t(new Error("昵称的长度不超过10个字符")):t():t(new Error("请输入昵称"))};return{registerForm:{email:"",password1:"",password2:"",userName:"",verifyCode:"",userInputVerifyCode:""},rules:{email:[{trigger:"blur",validator:r}],password1:[{trigger:"blur",validator:s}],password2:[{trigger:"blur",validator:i}],userName:[{trigger:"blur",validator:n}],userInputVerifyCode:[{trigger:"blur",validator:l}]},sicnuUrl:t("0666"),emailUrl:t("2444c"),pwdUrl:t("33a6"),userNameUrl:t("fc10")}},methods:{submit:function(e,r){var t=this;r=this.$md5(r),axios.post(this.global.user_update_password,this.$qs.stringify({email:e,password:r})).then((function(e){var r=e.data;console.log(r),200===r.code?(t.$message({message:"修改成功！",type:"success"}),t.$router.push("/user/login")):t.$message({showClose:!0,message:r.data,type:"error"})}))},submitForm:function(e){var r=this;this.$refs[e].validate((function(t){if(!t)return console.log("error submit!!"),!1;console.log("jj"),console.log(e.email),r.submit(r.registerForm.email,r.registerForm.password1)}))},resetForm:function(e){this.$refs[e].resetFields()},sendVerifyCode:function(){var e=this;this.$refs.registerForm.validateField("email",(function(r){r||axios.post(e.global.sendEmailUrl,e.$qs.stringify({email:e.registerForm.email})).then((function(r){var t=r.data;console.log(t),200===t.code?(e.registerForm.verifyCode=t.data,e.$message({message:"验证码发送成功，请注意查收！",type:"success"})):e.$message({message:"验证码发送失败，请重试！",type:"error"})}))}))}}},n=l,u=(t("a60f"),t("2877")),c=Object(u["a"])(n,s,i,!1,null,null,null);r["default"]=c.exports},fc10:function(e,r,t){e.exports=t.p+"img/username.ee407580.svg"}}]);
//# sourceMappingURL=chunk-38d86747.c1060cc0.js.map