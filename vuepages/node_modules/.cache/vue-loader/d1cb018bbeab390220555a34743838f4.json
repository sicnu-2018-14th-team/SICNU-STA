{"remainingRequest":"C:\\Users\\28353\\Desktop\\OJ-Demo\\vuepages\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\28353\\Desktop\\OJ-Demo\\vuepages\\src\\views\\Test.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\28353\\Desktop\\OJ-Demo\\vuepages\\src\\views\\Test.vue","mtime":1602500157849},{"path":"C:\\Users\\28353\\Desktop\\OJ-Demo\\vuepages\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\28353\\Desktop\\OJ-Demo\\vuepages\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\28353\\Desktop\\OJ-Demo\\vuepages\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\28353\\Desktop\\OJ-Demo\\vuepages\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgJy4uL2Fzc2V0cy9jc3MvY2FwdGNoYS5jc3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHZpc2libGU6IHRydWUsCiAgICAgICAgICAgIGN2OnsKICAgICAgICAgICAgICAgIHc6MzEwLAogICAgICAgICAgICAgICAgaDoxNTUsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGJsb2NrOnsKICAgICAgICAgICAgICAgIGw6NDIsIC8vIOa7keWdl+i+uemVvwogICAgICAgICAgICAgICAgTDo0Mis5KjIrMywvLyDmu5HlnZflrp7pmYXovrnplb8KICAgICAgICAgICAgICAgIHI6OSwgLy8g5ruR5Z2X5Y2K5b6ECiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJhbmRvbVBvczp7CiAgICAgICAgICAgICAgICB4OjAsCiAgICAgICAgICAgICAgICB5OjAsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNhbnZhc0N0eDpudWxsLAogICAgICAgICAgICBibG9ja0N0eDpudWxsLAogICAgICAgICAgICBibG9ja0RvbTpudWxsLAogICAgICAgICAgICBzbGlkZXJEb206bnVsbCwKICAgICAgICAgICAgc2xpZGVyQ29udGFpbmVyRG9tOm51bGwsCiAgICAgICAgICAgIHNsaWRlck1hc2tEb206bnVsbCwKICAgICAgICAgICAgZWw6bnVsbCwKICAgICAgICAgICAgaW1nOm51bGwsCiAgICAgICAgICAgIHRyYWlsOm51bGwsCgogICAgICAgIH07CiAgICB9LAogICAgd2F0Y2g6IHsKCiAgICB9LAogICAgYmVmb3JlQ3JlYXRlKCkge30sCiAgICBjcmVhdGVkKCkge30sCiAgICBiZWZvcmVNb3VudCgpIHt9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmluaXQoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgY2xvc2UoKXsKICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2UKICAgICAgICB9LAogICAgICAgIGluaXQoKXsKICAgICAgICAgICAgdGhpcy5jYW52YXNJbml0KCk7CiAgICAgICAgICAgIHRoaXMuaW5pdEltZygpOwogICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTsKICAgICAgICB9LAogICAgICAgIG9uUmVmcmVzaCgpewogICAgICAgICAgICB0aGlzLnJlc2V0KCkKICAgICAgICB9LAogICAgICAgIG9uU3VjY2VzcygpewogICAgICAgICAgICB0aGlzLiRtc2cuc3VjY2Vzcygi55m75b2V5oiQ5Yqf77yBIik7CiAgICAgICAgfSwKICAgICAgICBvbkZhaWwoKXsKICAgICAgICAgICAgdGhpcy4kbXNnLndhcm5pbmcoIuWGjeivleS4gOasoe+8gSIpOwogICAgICAgIH0sCiAgICAgICAgYmluZEV2ZW50cyAoKSB7CiAgICAgICAgICAgIHRoaXMuZWwub25zZWxlY3RzdGFydCA9ICgpID0+IGZhbHNlCgogICAgICAgICAgICBsZXQgb3JpZ2luWCwgb3JpZ2luWSwgdHJhaWwgPSBbXSwgaXNNb3VzZURvd24gPSBmYWxzZQoKICAgICAgICAgICAgY29uc3QgYWRkQ2xhc3MgPSBmdW5jdGlvbiAodGFnLCBjbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgIHRhZy5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiAgKHRhZywgY2xhc3NOYW1lKSB7CiAgICAgICAgICAgICAgICB0YWcuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpCiAgICAgICAgICAgIH0KCgogICAgICAgICAgICBjb25zdCBoYW5kbGVEcmFnU3RhcnQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgb3JpZ2luWCA9IGUuY2xpZW50WCB8fCBlLnRvdWNoZXNbMF0uY2xpZW50WAogICAgICAgICAgICAgICAgb3JpZ2luWSA9IGUuY2xpZW50WSB8fCBlLnRvdWNoZXNbMF0uY2xpZW50WQogICAgICAgICAgICAgICAgaXNNb3VzZURvd24gPSB0cnVlCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvcmlnaW5YKQogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBoYW5kbGVEcmFnTW92ZSA9IChlKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoIWlzTW91c2VEb3duKSByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50WCA9IGUuY2xpZW50WCB8fCBlLnRvdWNoZXNbMF0uY2xpZW50WAogICAgICAgICAgICAgICAgY29uc3QgZXZlbnRZID0gZS5jbGllbnRZIHx8IGUudG91Y2hlc1swXS5jbGllbnRZCiAgICAgICAgICAgICAgICBjb25zdCBtb3ZlWCA9IGV2ZW50WCAtIG9yaWdpblgKICAgICAgICAgICAgICAgIGNvbnN0IG1vdmVZID0gZXZlbnRZIC0gb3JpZ2luWQogICAgICAgICAgICAgICAgaWYgKG1vdmVYIDwgMCB8fCBtb3ZlWCArIDM4ID49IHRoaXMuY3YudykgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlckRvbS5zdHlsZS5sZWZ0ID0gbW92ZVggKyAncHgnCiAgICAgICAgICAgICAgICBjb25zdCBibG9ja0xlZnQgPSAodGhpcy5jdi53IC0gNDAgLSAyMCkgLyAodGhpcy5jdi53IC0gNDApICogbW92ZVgKICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tEb20uc3R5bGUubGVmdCA9IGJsb2NrTGVmdCArICdweCcKCiAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLnNsaWRlckNvbnRhaW5lckRvbSwgJ3NsaWRlckNvbnRhaW5lcl9hY3RpdmUnKQogICAgICAgICAgICAgICAgdGhpcy5zbGlkZXJNYXNrRG9tLnN0eWxlLndpZHRoID0gbW92ZVggKyAncHgnCiAgICAgICAgICAgICAgICB0cmFpbC5wdXNoKG1vdmVZKQogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zdCBoYW5kbGVEcmFnRW5kID0gKGUpID0+IHsKICAgICAgICAgICAgICAgIGlmICghaXNNb3VzZURvd24pIHJldHVybiBmYWxzZQogICAgICAgICAgICAgICAgaXNNb3VzZURvd24gPSBmYWxzZQogICAgICAgICAgICAgICAgY29uc3QgZXZlbnRYID0gZS5jbGllbnRYIHx8IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WAogICAgICAgICAgICAgICAgaWYgKGV2ZW50WCA9PSBvcmlnaW5YKSByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuc2xpZGVyQ29udGFpbmVyRG9tLCAnc2xpZGVyQ29udGFpbmVyX2FjdGl2ZScpCiAgICAgICAgICAgICAgICB0aGlzLnRyYWlsID0gdHJhaWwKICAgICAgICAgICAgICAgIGNvbnN0IHsgc3BsaWNlZCwgdmVyaWZpZWQgfSA9IHRoaXMudmVyaWZ5KCkKICAgICAgICAgICAgICAgIGlmIChzcGxpY2VkKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHZlcmlmaWVkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuc2xpZGVyQ29udGFpbmVyRG9tLCAnc2xpZGVyQ29udGFpbmVyX3N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3VjY2VzcygpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuc2xpZGVyQ29udGFpbmVyRG9tLCAnc2xpZGVyQ29udGFpbmVyX2ZhaWwnKQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRmFpbCgpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRoaXMuc2xpZGVyQ29udGFpbmVyRG9tLCAnc2xpZGVyQ29udGFpbmVyX2ZhaWwnKQogICAgICAgICAgICAgICAgICAgIHRoaXMub25GYWlsKCk7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoKQogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5zbGlkZXJEb20uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlRHJhZ1N0YXJ0KQogICAgICAgICAgICB0aGlzLnNsaWRlckRvbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0KQogICAgICAgICAgICB0aGlzLmJsb2NrRG9tLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZURyYWdTdGFydCkKICAgICAgICAgICAgdGhpcy5ibG9ja0RvbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0KQogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVEcmFnTW92ZSkKICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgaGFuZGxlRHJhZ01vdmUpCiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVEcmFnRW5kKQogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGhhbmRsZURyYWdFbmQpCiAgICAgICAgfSwKICAgICAgICB2ZXJpZnkgKCkgewogICAgICAgICAgICBjb25zdCBzdW0gPSBmdW5jdGlvbiAoeCwgeSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHggKyB5CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29uc3Qgc3F1YXJlID0gIGZ1bmN0aW9uICAoeCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHggKiB4CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnN0IGFyciA9IHRoaXMudHJhaWwgLy8g5ouW5Yqo5pe2eei9tOeahOenu+WKqOi3neemuwogICAgICAgICAgICBjb25zdCBhdmVyYWdlID0gYXJyLnJlZHVjZShzdW0pIC8gYXJyLmxlbmd0aAogICAgICAgICAgICBjb25zdCBkZXZpYXRpb25zID0gYXJyLm1hcCh4ID0+IHggLSBhdmVyYWdlKQogICAgICAgICAgICBjb25zdCBzdGRkZXYgPSBNYXRoLnNxcnQoZGV2aWF0aW9ucy5tYXAoc3F1YXJlKS5yZWR1Y2Uoc3VtKSAvIGFyci5sZW5ndGgpCiAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBwYXJzZUludCh0aGlzLmJsb2NrRG9tLnN0eWxlLmxlZnQpCiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBzcGxpY2VkOiBNYXRoLmFicyhsZWZ0IC0gdGhpcy5yYW5kb21Qb3MueCkgPCAxMCwKICAgICAgICAgICAgICAgIHZlcmlmaWVkOiBzdGRkZXYgIT09IDAsIC8vIOeugOWNlemqjOivgeS4i+aLluWKqOi9qOi/ue+8jOS4uumbtuaXtuihqOekulnovbTkuIrkuIvmsqHmnInms6LliqjvvIzlj6/og73pnZ7kurrkuLrmk43kvZwKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcmVzZXQgKCkgewogICAgICAgICAgICB0aGlzLnNsaWRlckNvbnRhaW5lckRvbS5jbGFzc05hbWUgPSAnc2xpZGVyQ29udGFpbmVyJwogICAgICAgICAgICB0aGlzLnNsaWRlckRvbS5zdHlsZS5sZWZ0ID0gMAogICAgICAgICAgICB0aGlzLmJsb2NrRG9tLnN0eWxlLmxlZnQgPSAwCiAgICAgICAgICAgIHRoaXMuc2xpZGVyTWFza0RvbS5zdHlsZS53aWR0aCA9IDAKICAgICAgICAgICAgdGhpcy5jbGVhbigpCiAgICAgICAgICAgIHRoaXMuaW1nLnNldFNyYyh0aGlzLmdldFJhbmRvbUltZ1NyYygpKQogICAgICAgIH0sCiAgICAgICAgY2xlYW4gKCkgewogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jdi53LCB0aGlzLmN2LmgpCiAgICAgICAgICAgIHRoaXMuYmxvY2tDdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY3YudywgdGhpcy5jdi5oKQogICAgICAgICAgICB0aGlzLmJsb2NrRG9tLndpZHRoID0gdGhpcy5jdi53CiAgICAgICAgfSwKICAgICAgICBkcmF3ICgpIHsKICAgICAgICAgICAgLy8g6ZqP5py65Yib5bu65ruR5Z2X55qE5L2N572uCiAgICAgICAgICAgIHRoaXMucmFuZG9tUG9zLnggPSB0aGlzLmdldFJhbmRvbU51bWJlckJ5UmFuZ2UodGhpcy5ibG9jay5MICsgMTAsIHRoaXMuY3YudyAtICh0aGlzLmJsb2NrLkwgKyAxMCkpCiAgICAgICAgICAgIHRoaXMucmFuZG9tUG9zLnkgPSB0aGlzLmdldFJhbmRvbU51bWJlckJ5UmFuZ2UoMTAgKyB0aGlzLmJsb2NrLnIgKiAyLCB0aGlzLmN2LmggLSAodGhpcy5ibG9jay5MICsgMTApKQogICAgICAgICAgICB0aGlzLmRyYXdCbG9jayh0aGlzLmNhbnZhc0N0eCwgdGhpcy5yYW5kb21Qb3MueCwgdGhpcy5yYW5kb21Qb3MueSwgJ2ZpbGwnKQogICAgICAgICAgICB0aGlzLmRyYXdCbG9jayh0aGlzLmJsb2NrQ3R4LCB0aGlzLnJhbmRvbVBvcy54LCB0aGlzLnJhbmRvbVBvcy55LCAnY2xpcCcpCiAgICAgICAgfSwKICAgICAgICBkcmF3QmxvY2soY3R4LCB4LCB5LCBvcGVyYXRpb24pIHsKICAgICAgICAgICAgbGV0IHIgPSB0aGlzLmJsb2NrLnIsCiAgICAgICAgICAgICAgICBsID0gdGhpcy5ibG9jay5sLAogICAgICAgICAgICAgICAgUEkgPSBNYXRoLlBJOwoKICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpCiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCwgeSkKICAgICAgICAgICAgY3R4LmFyYyh4ICsgbCAvIDIsIHkgLSByICsgMiwgciwgMC43MiAqIFBJLCAyLjI2ICogUEkpCiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIGwsIHkpCiAgICAgICAgICAgIGN0eC5hcmMoeCArIGwgKyByIC0gMiwgeSArIGwgLyAyLCByLCAxLjIxICogUEksIDIuNzggKiBQSSkKICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgbCwgeSArIGwpCiAgICAgICAgICAgIGN0eC5saW5lVG8oeCwgeSArIGwpCiAgICAgICAgICAgIGN0eC5hcmMoeCArIHIgLSAyLCB5ICsgbCAvIDIsIHIgKyAwLjQsIDIuNzYgKiBQSSwgMS4yNCAqIFBJLCB0cnVlKQogICAgICAgICAgICBjdHgubGluZVRvKHgsIHkpCiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAyCiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJwogICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpJwogICAgICAgICAgICBjdHguc3Ryb2tlKCkKICAgICAgICAgICAgY3R4W29wZXJhdGlvbl0oKQogICAgICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW92ZXInCiAgICAgICAgfSwKICAgICAgICBpbml0SW1nKCl7CiAgICAgICAgICAgIGNvbnN0IGltZyA9IHRoaXMuY3JlYXRlSW1nKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpCiAgICAgICAgICAgICAgICB0aGlzLmNhbnZhc0N0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB0aGlzLmN2LncsIHRoaXMuY3YuaCkKICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tDdHguZHJhd0ltYWdlKGltZywgMCwgMCwgdGhpcy5jdi53LCB0aGlzLmN2LmgpCiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5yYW5kb21Qb3MueSAtIHRoaXMuYmxvY2suciAqIDIgLSAxOwogICAgICAgICAgICAgICAgY29uc3QgSW1hZ2VEYXRhID0gdGhpcy5ibG9ja0N0eC5nZXRJbWFnZURhdGEodGhpcy5yYW5kb21Qb3MueCAtIDMsIHksIHRoaXMuYmxvY2suTCwgdGhpcy5ibG9jay5MKQogICAgICAgICAgICAgICAgdGhpcy5ibG9ja0RvbS53aWR0aCA9IHRoaXMuYmxvY2suTAogICAgICAgICAgICAgICAgdGhpcy5ibG9ja0N0eC5wdXRJbWFnZURhdGEoSW1hZ2VEYXRhLCAwLCB5KQogICAgICAgICAgICB9KQogICAgICAgICAgICB0aGlzLmltZyA9IGltZwogICAgICAgIH0sCiAgICAgICAgY2FudmFzSW5pdCgpewogICAgICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNyZWF0ZUNhbnZhcyh0aGlzLmN2LncsIHRoaXMuY3YuaCkgLy8g55S75biDCiAgICAgICAgICAgIGNvbnN0IGJsb2NrID0gY2FudmFzLmNsb25lTm9kZSh0cnVlKSAvLyDmu5HlnZcKCiAgICAgICAgICAgIGJsb2NrLmNsYXNzTmFtZSA9ICdibG9jaycKICAgICAgICAgICAgY29uc3QgZWwgPSB0aGlzLmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcHRjaGEnKTsKICAgICAgICAgICAgZWwuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnCiAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gdGhpcy5jdi53ICsgJ3B4JwogICAgICAgICAgICBPYmplY3QuYXNzaWduKGVsLnN0eWxlLCB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJywKICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmN2LncgKyAncHgnLAogICAgICAgICAgICAgICAgbWFyZ2luOiAnMCBhdXRvJwogICAgICAgICAgICB9KQoKICAgICAgICAgICAgdGhpcy5lbCA9IGVsCiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKGNhbnZhcykKICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoYmxvY2spCgogICAgICAgICAgICB0aGlzLmNhbnZhc0N0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwogICAgICAgICAgICB0aGlzLmJsb2NrQ3R4ID0gYmxvY2suZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgICAgICAgdGhpcy5ibG9ja0RvbT1ibG9jazsKICAgICAgICAgICAgdGhpcy5zbGlkZXJEb209ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2xpZGVyJylbMF07CiAgICAgICAgICAgIHRoaXMuc2xpZGVyQ29udGFpbmVyRG9tPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NsaWRlckNvbnRhaW5lcicpWzBdOwogICAgICAgICAgICB0aGlzLnNsaWRlck1hc2tEb209ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2xpZGVyTWFzaycpWzBdOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNsaWRlckRvbSkKICAgICAgICB9LAogICAgICAgIGNyZWF0ZUNhbnZhcyAod2lkdGgsIGhlaWdodCkgewogICAgICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKQogICAgICAgICAgICBjYW52YXMud2lkdGggPSB3aWR0aAogICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0CiAgICAgICAgICAgIHJldHVybiBjYW52YXMKICAgICAgICB9LAogICAgICAgIGNyZWF0ZUltZyAob25sb2FkKSB7CiAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpCiAgICAgICAgICAgIGltZy5jcm9zc09yaWdpbiA9ICJBbm9ueW1vdXMiCiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBvbmxvYWQKICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICBpbWcuc2V0U3JjKHRoaXMuZ2V0UmFuZG9tSW1nU3JjKCkpCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGltZy5zZXRTcmMgPSAgKHNyYykgPT57CiAgICAgICAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID4gLTEpIHsgLy8gSUXmtY/op4jlmajml6Dms5XpgJrov4dpbWcuY3Jvc3NPcmlnaW7ot6jln5/vvIzkvb/nlKhhamF46I635Y+W5Zu+54mHYmxvYueEtuWQjui9rOS4umRhdGFVUkzmmL7npLoKICAgICAgICAgICAgICAgICAgICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKQogICAgICAgICAgICAgICAgICAgIHhoci5vbmxvYWRlbmQgPSAgKGUpID0+ewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGVSZWFkZXIoKSAvLyBGaWxlUmVhZGVy5LuF5pSv5oyBSUUxMCsKICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5yZWFkQXNEYXRhVVJMKGUudGFyZ2V0LnJlc3BvbnNlKQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWcuc3JjID0gZS50YXJnZXQucmVzdWx0CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNyYykKICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InCiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSBpbWcuc3JjID0gc3JjCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaW1nLnNldFNyYyh0aGlzLmdldFJhbmRvbUltZ1NyYygpKQogICAgICAgICAgICByZXR1cm4gaW1nCiAgICAgICAgfSwKCiAgICAgICAgZ2V0UmFuZG9tTnVtYmVyQnlSYW5nZSAoc3RhcnQsIGVuZCkgewogICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGVuZCAtIHN0YXJ0KSArIHN0YXJ0KQogICAgICAgIH0sCiAgICAgICAgZ2V0UmFuZG9tSW1nU3JjICgpIHsKICAgICAgICAgICAgcmV0dXJuICdodHRwczovL3BpY3N1bS5waG90b3MvMzAwLzE1MC8/aW1hZ2U9JyArIHRoaXMuZ2V0UmFuZG9tTnVtYmVyQnlSYW5nZSgwLCAxMDg0KQogICAgICAgICAgICAvLyByZXR1cm4gJ2h0dHBzOi8vcGljc3VtLnBob3Rvcy9pZC80MDcvMzAwLzE1MCcKICAgICAgICB9LAogICAgfQp9Owo="},{"version":3,"sources":["Test.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Test.vue","sourceRoot":"src/views","sourcesContent":["//整个页面是个弹窗 visible 控制弹窗的显示关闭 默认打开\r\n\r\n<template>\r\n    <div class=\"mask_layer_model\" v-if=\"visible\" style=\"z-index: 9;\">\r\n        <div class=\"captcha_model\">\r\n            <div class=\"header\">\r\n                <span>请完成安全验证</span>\r\n                <span style=\"float: right\"  title=\"关闭验证码\" @click=\"close\">\r\n                <i class=\"iconfont icon-Close\"></i>\r\n            </span>\r\n            </div>\r\n            <div class=\"content\">\r\n                <div class=\"sliding-pictures\">\r\n                    <i class=\"iconfont icon-shuaxin\" @click=\"onRefresh\" title=\"刷新验证码\"></i>\r\n                    <div id=\"captcha\">\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"sliderContainer\">\r\n                <div class=\"sliderMask\">\r\n                    <div class=\"slider\">\r\n                        <span class=\"sliderIcon\"></span>\r\n                    </div>\r\n                </div>\r\n                <span class=\"sliderText\">向右滑动填充拼图</span>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n    import '../assets/css/captcha.css'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                visible: true,\r\n                cv:{\r\n                    w:310,\r\n                    h:155,\r\n                },\r\n                block:{\r\n                    l:42, // 滑块边长\r\n                    L:42+9*2+3,// 滑块实际边长\r\n                    r:9, // 滑块半径\r\n                },\r\n                randomPos:{\r\n                    x:0,\r\n                    y:0,\r\n                },\r\n                canvasCtx:null,\r\n                blockCtx:null,\r\n                blockDom:null,\r\n                sliderDom:null,\r\n                sliderContainerDom:null,\r\n                sliderMaskDom:null,\r\n                el:null,\r\n                img:null,\r\n                trail:null,\r\n\r\n            };\r\n        },\r\n        watch: {\r\n\r\n        },\r\n        beforeCreate() {},\r\n        created() {},\r\n        beforeMount() {},\r\n        mounted() {\r\n            this.init();\r\n        },\r\n        methods: {\r\n            close(){\r\n                this.visible = false\r\n            },\r\n            init(){\r\n                this.canvasInit();\r\n                this.initImg();\r\n                this.bindEvents();\r\n            },\r\n            onRefresh(){\r\n                this.reset()\r\n            },\r\n            onSuccess(){\r\n                this.$msg.success(\"登录成功！\");\r\n            },\r\n            onFail(){\r\n                this.$msg.warning(\"再试一次！\");\r\n            },\r\n            bindEvents () {\r\n                this.el.onselectstart = () => false\r\n\r\n                let originX, originY, trail = [], isMouseDown = false\r\n\r\n                const addClass = function (tag, className) {\r\n                    tag.classList.add(className)\r\n                }\r\n\r\n                const removeClass = function  (tag, className) {\r\n                    tag.classList.remove(className)\r\n                }\r\n\r\n\r\n                const handleDragStart = function (e) {\r\n                    originX = e.clientX || e.touches[0].clientX\r\n                    originY = e.clientY || e.touches[0].clientY\r\n                    isMouseDown = true\r\n                    console.log(originX)\r\n                }\r\n\r\n                const handleDragMove = (e) => {\r\n                    if (!isMouseDown) return false\r\n                    const eventX = e.clientX || e.touches[0].clientX\r\n                    const eventY = e.clientY || e.touches[0].clientY\r\n                    const moveX = eventX - originX\r\n                    const moveY = eventY - originY\r\n                    if (moveX < 0 || moveX + 38 >= this.cv.w) return false\r\n                    this.sliderDom.style.left = moveX + 'px'\r\n                    const blockLeft = (this.cv.w - 40 - 20) / (this.cv.w - 40) * moveX\r\n                    this.blockDom.style.left = blockLeft + 'px'\r\n\r\n                    addClass(this.sliderContainerDom, 'sliderContainer_active')\r\n                    this.sliderMaskDom.style.width = moveX + 'px'\r\n                    trail.push(moveY)\r\n                }\r\n\r\n                const handleDragEnd = (e) => {\r\n                    if (!isMouseDown) return false\r\n                    isMouseDown = false\r\n                    const eventX = e.clientX || e.changedTouches[0].clientX\r\n                    if (eventX == originX) return false\r\n                    removeClass(this.sliderContainerDom, 'sliderContainer_active')\r\n                    this.trail = trail\r\n                    const { spliced, verified } = this.verify()\r\n                    if (spliced) {\r\n                        if (verified) {\r\n                            addClass(this.sliderContainerDom, 'sliderContainer_success')\r\n                            this.onSuccess();\r\n                        } else {\r\n                            addClass(this.sliderContainerDom, 'sliderContainer_fail')\r\n                            this.onFail();\r\n                            this.reset()\r\n                        }\r\n                    } else {\r\n                        addClass(this.sliderContainerDom, 'sliderContainer_fail')\r\n                        this.onFail();\r\n                        setTimeout(() => {\r\n                            this.reset()\r\n                        }, 1000)\r\n                    }\r\n                }\r\n                this.sliderDom.addEventListener('mousedown', handleDragStart)\r\n                this.sliderDom.addEventListener('touchstart', handleDragStart)\r\n                this.blockDom.addEventListener('mousedown', handleDragStart)\r\n                this.blockDom.addEventListener('touchstart', handleDragStart)\r\n                document.addEventListener('mousemove', handleDragMove)\r\n                document.addEventListener('touchmove', handleDragMove)\r\n                document.addEventListener('mouseup', handleDragEnd)\r\n                document.addEventListener('touchend', handleDragEnd)\r\n            },\r\n            verify () {\r\n                const sum = function (x, y) {\r\n                    return x + y\r\n                }\r\n                const square =  function  (x) {\r\n                    return x * x\r\n                }\r\n\r\n                const arr = this.trail // 拖动时y轴的移动距离\r\n                const average = arr.reduce(sum) / arr.length\r\n                const deviations = arr.map(x => x - average)\r\n                const stddev = Math.sqrt(deviations.map(square).reduce(sum) / arr.length)\r\n                const left = parseInt(this.blockDom.style.left)\r\n                return {\r\n                    spliced: Math.abs(left - this.randomPos.x) < 10,\r\n                    verified: stddev !== 0, // 简单验证下拖动轨迹，为零时表示Y轴上下没有波动，可能非人为操作\r\n                }\r\n            },\r\n            reset () {\r\n                this.sliderContainerDom.className = 'sliderContainer'\r\n                this.sliderDom.style.left = 0\r\n                this.blockDom.style.left = 0\r\n                this.sliderMaskDom.style.width = 0\r\n                this.clean()\r\n                this.img.setSrc(this.getRandomImgSrc())\r\n            },\r\n            clean () {\r\n                this.canvasCtx.clearRect(0, 0, this.cv.w, this.cv.h)\r\n                this.blockCtx.clearRect(0, 0, this.cv.w, this.cv.h)\r\n                this.blockDom.width = this.cv.w\r\n            },\r\n            draw () {\r\n                // 随机创建滑块的位置\r\n                this.randomPos.x = this.getRandomNumberByRange(this.block.L + 10, this.cv.w - (this.block.L + 10))\r\n                this.randomPos.y = this.getRandomNumberByRange(10 + this.block.r * 2, this.cv.h - (this.block.L + 10))\r\n                this.drawBlock(this.canvasCtx, this.randomPos.x, this.randomPos.y, 'fill')\r\n                this.drawBlock(this.blockCtx, this.randomPos.x, this.randomPos.y, 'clip')\r\n            },\r\n            drawBlock(ctx, x, y, operation) {\r\n                let r = this.block.r,\r\n                    l = this.block.l,\r\n                    PI = Math.PI;\r\n\r\n                ctx.beginPath()\r\n                ctx.moveTo(x, y)\r\n                ctx.arc(x + l / 2, y - r + 2, r, 0.72 * PI, 2.26 * PI)\r\n                ctx.lineTo(x + l, y)\r\n                ctx.arc(x + l + r - 2, y + l / 2, r, 1.21 * PI, 2.78 * PI)\r\n                ctx.lineTo(x + l, y + l)\r\n                ctx.lineTo(x, y + l)\r\n                ctx.arc(x + r - 2, y + l / 2, r + 0.4, 2.76 * PI, 1.24 * PI, true)\r\n                ctx.lineTo(x, y)\r\n                ctx.lineWidth = 2\r\n                ctx.fillStyle = 'rgba(255, 255, 255, 0.7)'\r\n                ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)'\r\n                ctx.stroke()\r\n                ctx[operation]()\r\n                ctx.globalCompositeOperation = 'destination-over'\r\n            },\r\n            initImg(){\r\n                const img = this.createImg(() => {\r\n                    this.draw()\r\n                    this.canvasCtx.drawImage(img, 0, 0, this.cv.w, this.cv.h)\r\n                    this.blockCtx.drawImage(img, 0, 0, this.cv.w, this.cv.h)\r\n                    const y = this.randomPos.y - this.block.r * 2 - 1;\r\n                    const ImageData = this.blockCtx.getImageData(this.randomPos.x - 3, y, this.block.L, this.block.L)\r\n                    this.blockDom.width = this.block.L\r\n                    this.blockCtx.putImageData(ImageData, 0, y)\r\n                })\r\n                this.img = img\r\n            },\r\n            canvasInit(){\r\n                const canvas = this.createCanvas(this.cv.w, this.cv.h) // 画布\r\n                const block = canvas.cloneNode(true) // 滑块\r\n\r\n                block.className = 'block'\r\n                const el = this.el = document.getElementById('captcha');\r\n                el.style.position = 'relative'\r\n                el.style.width = this.cv.w + 'px'\r\n                Object.assign(el.style, {\r\n                    position: 'relative',\r\n                    width: this.cv.w + 'px',\r\n                    margin: '0 auto'\r\n                })\r\n\r\n                this.el = el\r\n                el.appendChild(canvas)\r\n                el.appendChild(block)\r\n\r\n                this.canvasCtx = canvas.getContext(\"2d\");\r\n                this.blockCtx = block.getContext(\"2d\");\r\n                this.blockDom=block;\r\n                this.sliderDom=document.getElementsByClassName('slider')[0];\r\n                this.sliderContainerDom=document.getElementsByClassName('sliderContainer')[0];\r\n                this.sliderMaskDom=document.getElementsByClassName('sliderMask')[0];\r\n                console.log(this.sliderDom)\r\n            },\r\n            createCanvas (width, height) {\r\n                const canvas = document.createElement('canvas')\r\n                canvas.width = width\r\n                canvas.height = height\r\n                return canvas\r\n            },\r\n            createImg (onload) {\r\n                const img = new Image()\r\n                img.crossOrigin = \"Anonymous\"\r\n                img.onload = onload\r\n                img.onerror = () => {\r\n                    img.setSrc(this.getRandomImgSrc())\r\n                }\r\n\r\n                img.setSrc =  (src) =>{\r\n                    if (window.navigator.userAgent.indexOf('Trident') > -1) { // IE浏览器无法通过img.crossOrigin跨域，使用ajax获取图片blob然后转为dataURL显示\r\n                        const xhr = new XMLHttpRequest()\r\n                        xhr.onloadend =  (e) =>{\r\n                            const file = new FileReader() // FileReader仅支持IE10+\r\n                            file.readAsDataURL(e.target.response)\r\n                            file.onloadend = function (e) {\r\n                                img.src = e.target.result\r\n                            }\r\n                        }\r\n                        xhr.open('GET', src)\r\n                        xhr.responseType = 'blob'\r\n                        xhr.send()\r\n                    }\r\n                    else img.src = src\r\n                }\r\n                img.setSrc(this.getRandomImgSrc())\r\n                return img\r\n            },\r\n\r\n            getRandomNumberByRange (start, end) {\r\n                return Math.round(Math.random() * (end - start) + start)\r\n            },\r\n            getRandomImgSrc () {\r\n                return 'https://picsum.photos/300/150/?image=' + this.getRandomNumberByRange(0, 1084)\r\n                // return 'https://picsum.photos/id/407/300/150'\r\n            },\r\n        }\r\n    };\r\n</script>"]}]}